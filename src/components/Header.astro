---
// Header.astro
const { currentPage } = Astro.props;
---
<header class="fixed top-0 left-0 w-full bg-black/30 backdrop-blur-sm z-50">
  <nav class="mx-auto flex max-w-7xl items-center justify-between p-4 navbar">
    <!-- LOGO + TÍTULO -->
    <div class="flex items-center gap-3">
      <a href="/" class="flex items-center">
        <img src="/images/angelcode.png" alt="logo" class="h-8 w-auto" />
        <span class="ml-2 text-white font-semibold text-lg">
          <span class="gradient">Angel</span>Code
        </span>
      </a>
    </div>

    <!-- BOTÓN MENÚ MÓVIL -->
    <button
      id="menu-toggle"
      class="lg:hidden text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white"
      aria-label="Abrir menú"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none"
        viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>

    <!-- MENÚ PRINCIPAL -->
    <ul id="menu"
      class="hidden lg:flex items-center justify-center rounded-full px-6 py-3 bg-[rgba(0,0,69,0.3)] shadow-[0_0_10px_#727fde65] text-sm font-semibold gap-4">
      <li><a class={`nav-link ${currentPage === 'home' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} px-3 py-2 rounded-full transition`} href="/">Inicio</a></li>
      <li><a class={`nav-link ${currentPage === 'about' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} px-3 py-2 rounded-full transition`} href="/about">Sobre mí</a></li>
      <li><a class={`nav-link ${currentPage === 'projects' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} px-3 py-2 rounded-full transition`} href="/projects">Proyectos</a></li>
      <li><a class={`nav-link ${currentPage === 'contact' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} px-3 py-2 rounded-full transition`} href="/contact">Contacto</a></li>
    </ul>

    <!-- REDES SOCIALES -->
    <div class="hidden lg:flex items-center gap-4 text-white text-xl">
      <a href="https://www.instagram.com/angeljeremias05/" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]">
        <i class='bx bxl-instagram'></i>
      </a>
      <a href="https://github.com/AngelJeremiasAvellaneda" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]">
        <i class='bx bxl-github'></i>
      </a>
      <a href="https://www.linkedin.com/in/angel-addair-jeremias-avellaneda" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]">
        <i class='bx bxl-linkedin'></i>
      </a>
    </div>
  </nav>

  <!-- MENÚ MÓVIL -->
  <div id="mobile-menu"class="hidden flex-col items-center bg-[rgba(0,0,69,0.17)] text-white p-5 space-y-3 lg:hidden rounded-b-xl shadow-md">
    <ul class="flex flex-col items-center w-full space-y-2"> 
      <li><a class={`nav-link ${currentPage === 'home' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} block w-full text-center py-2 px-5 rounded-full transition`} href="/">Inicio</a></li>
      <li><a class={`nav-link ${currentPage === 'about' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} block w-full text-center py-2 px-5 rounded-full transition`} href="/about">Sobre mí</a></li>
      <li><a class={`nav-link ${currentPage === 'projects' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} block w-full text-center py-2 px-5 rounded-full transition`} href="/projects">Proyectos</a></li>
      <li><a class={`nav-link ${currentPage === 'contact' ? 'bg-[rgba(114,127,222,0.6)] text-white' : 'text-white hover:bg-[rgba(114,127,222,0.3)] hover:text-[#d8d7e0]'} block w-full text-center py-2 px-5 rounded-full transition`} href="/contact">Contacto</a></li>
    </ul>

    <div class="flex gap-5 pt-4 text-2xl">
      <a href="https://www.instagram.com/angeljeremias05/" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]"><i class='bx bxl-instagram'></i></a>
      <a href="https://github.com/AngelJeremiasAvellaneda" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]"><i class='bx bxl-github'></i></a>
      <a href="https://www.linkedin.com/in/angel-addair-jeremias-avellaneda" class="border border-[#727fde] rounded-full px-2 py-1 text-gray-300 transition transform hover:scale-125 hover:bg-[#727fde] hover:text-white hover:shadow-[0_0_15px_#727fde6f]"><i class='bx bxl-linkedin'></i></a>
    </div>
  </div>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const btn = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");

    if (btn && mobileMenu) {
      btn.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });
    }
  });
</script>
